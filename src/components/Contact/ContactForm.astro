---
import "./ContactForm.css";
---

<form class="contact-form" id="contact-form">
  <div class="form-group">
    <label for="name">Nombre</label>
    <input type="text" id="name" name="name" required />
  </div>
  <div class="form-group">
    <label for="email">Email</label>
    <input type="email" id="email" name="email" required />
  </div>
  <div class="form-group">
    <label for="message">Mensaje</label>
    <textarea id="message" name="message" required></textarea>
  </div>
  <button type="submit">Enviar mensaje</button>
</form>

<script>
  // buscar api para envio de emails
  const form = document.getElementById("contact-form") as HTMLFormElement;
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const formData = new FormData(form);
    const response = await fetch("/api/send-email", {
      method: "POST",
      body: formData,
    });
    if (response.ok) {
      alert("Mensaje enviado con Ã©xito");
      form.reset();
    } else {
      alert("Hubo un error al enviar el mensaje. Por favor, intenta de nuevo.");
    }
  });
</script>
